{"ast":null,"code":"import _classCallCheck from \"/Users/tawatchai/newffcin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tawatchai/newffcin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tawatchai/newffcin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tawatchai/newffcin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tawatchai/newffcin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/tawatchai/newffcin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/tawatchai/newffcin/src/components/Home/Home.js\";\nimport React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport './Home.css';\nimport { Data, CreatData } from '../../services/PostData';\nimport 'antd/dist/antd.css';\nimport { Layout, Menu, Breadcrumb, Icon, Table, Button, Popconfirm, Dropdown } from 'antd';\nimport '../../styles/react-confirm-alert.css';\nvar Header = Layout.Header,\n    Content = Layout.Content,\n    Footer = Layout.Footer,\n    Sider = Layout.Sider;\nvar SubMenu = Menu.SubMenu;\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.onCollapse = function (collapsed) {\n      _this.setState({\n        collapsed: collapsed\n      });\n    };\n\n    _this.setStore = function (user) {\n      localStorage.setItem('userUnit', JSON.stringify(user));\n    };\n\n    _this.state = {\n      name: '',\n      items: [],\n      isLoaded: false,\n      redirectToReferrer: false,\n      collapsed: false\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setStore = _this.setStore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var data = sessionStorage.getItem('userData');\n      var dataJson = JSON.parse(data);\n      var id = dataJson.user.orgId;\n      var token = dataJson.token;\n      console.log(dataJson.token, 'oopuytreww12345678');\n      CreatData(id, token).then(function (result) {\n        var opn = '';\n        var name = localStorage.getItem('idOpn');\n        result.map(function (d) {\n          return d.name === name ? opn = d : {};\n        });\n\n        _this2.setState({\n          items: result\n        });\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState({\n        userFeed: e.target.value\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      sessionStorage.setItem(\"userData\", '');\n      sessionStorage.clear();\n      this.setState({\n        redirectToReferrer: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.redirectToReferrer) {\n        return React.createElement(Redirect, {\n          to: '/login',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        });\n      }\n\n      var columns = [{\n        title: 'ชื่อ',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        title: 'ระดับผู้ใช้งาน',\n        dataIndex: 'roles',\n        key: 'roles'\n      }, {\n        title: 'Action',\n        dataIndex: 'id',\n        key: 'id',\n        render: function render(id, user) {\n          return React.createElement(\"a\", {\n            href: \"/user?id=\".concat(id),\n            onClick: function onClick() {\n              return _this3.setStore(user);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, \"view\");\n        }\n      }];\n      var data = this.state.items;\n      var da = sessionStorage.getItem('userData');\n      var dataJson = JSON.parse(da);\n      var name = dataJson.user.name; // const id = dataJson.user.orgId\n      // const token = dataJson.token\n\n      return React.createElement(Layout, {\n        style: {\n          fontFamily: 'Kanit'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Header, {\n        style: {\n          backgroundColor: '#46bd93',\n          height: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          height: 80,\n          width: 100\n        },\n        src: \"LOGO_White.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"/login\",\n        onClick: this.logout,\n        className: \"logout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\")), React.createElement(Layout, {\n        style: {\n          marginTop: 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        style: {\n          background: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Menu, {\n        mode: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Menu.Item, {\n        key: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"), React.createElement(Link, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\")), React.createElement(Menu.Item, {\n        key: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"desktop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"\\u0E41\\u0E1C\\u0E19\\u0E17\\u0E35\\u0E48\"), React.createElement(Link, {\n        to: \"/map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"\\u0E41\\u0E1C\\u0E19\\u0E17\\u0E35\\u0E48\")), React.createElement(Menu.Item, {\n        key: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bar-chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"\\u0E2A\\u0E16\\u0E34\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"), React.createElement(Link, {\n        to: \"/static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"\\u0E2A\\u0E16\\u0E34\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\")), React.createElement(Menu.Item, {\n        key: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bar-chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\"), React.createElement(Link, {\n        to: \"/export\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"\\u0E23\\u0E32\\u0E22\\u0E07\\u0E32\\u0E19\")))), React.createElement(Content, {\n        style: {\n          margin: '0 16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Breadcrumb, {\n        style: {\n          margin: '16px 0'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          padding: 24,\n          background: '#fff',\n          minHeight: 800\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, name, React.createElement(Button, {\n        href: \"/creat\",\n        type: \"primary\",\n        style: {\n          marginBottom: 16,\n          marginLeft: 850\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\")), React.createElement(Table, {\n        columns: columns,\n        dataSource: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })))), React.createElement(Footer, {\n        style: {\n          backgroundColor: '#46bd93'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          height: 40,\n          width: 100\n        },\n        src: \"nstda.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        style: {\n          fontSize: 16,\n          color: '#fff',\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"\\u0E2A\\u0E07\\u0E27\\u0E19\\u0E25\\u0E34\\u0E02\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C \\u0E15\\u0E32\\u0E21 \\u0E1E.\\u0E23.\\u0E1A.\\u0E25\\u0E34\\u0E02\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C \\u0E1E.\\u0E28. 2537 \\u0E42\\u0E14\\u0E22 \\u0E28\\u0E39\\u0E19\\u0E22\\u0E4C\\u0E40\\u0E17\\u0E04\\u0E42\\u0E19\\u0E42\\u0E25\\u0E22\\u0E35\\u0E2D\\u0E34\\u0E40\\u0E25\\u0E47\\u0E01\\u0E17\\u0E23\\u0E2D\\u0E19\\u0E34\\u0E01\\u0E2A\\u0E4C\\u0E41\\u0E25\\u0E30\\u0E04\\u0E2D\\u0E21\\u0E1E\\u0E34\\u0E27\\u0E40\\u0E15\\u0E2D\\u0E23\\u0E4C\\u0E41\\u0E2B\\u0E48\\u0E07\\u0E0A\\u0E32\\u0E15\\u0E34\"))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/tawatchai/newffcin/src/components/Home/Home.js"],"names":["React","Component","Redirect","Link","Data","CreatData","Layout","Menu","Breadcrumb","Icon","Table","Button","Popconfirm","Dropdown","Header","Content","Footer","Sider","SubMenu","Home","props","onCollapse","collapsed","setState","setStore","user","localStorage","setItem","JSON","stringify","state","name","items","isLoaded","redirectToReferrer","onChange","bind","logout","data","sessionStorage","getItem","dataJson","parse","id","orgId","token","console","log","then","result","opn","map","d","e","userFeed","target","value","clear","columns","title","dataIndex","key","render","da","fontFamily","backgroundColor","height","width","marginTop","background","margin","padding","minHeight","marginBottom","marginLeft","fontSize","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport './Home.css';\nimport { Data, CreatData } from '../../services/PostData';\nimport 'antd/dist/antd.css';\nimport { Layout, Menu, Breadcrumb, Icon, Table, Button, Popconfirm, Dropdown } from 'antd';\nimport '../../styles/react-confirm-alert.css';\n\nconst { Header, Content, Footer, Sider, } = Layout;\nconst SubMenu = Menu.SubMenu;\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      items: [],\n      isLoaded: false,\n      redirectToReferrer: false,\n      collapsed: false,\n    };\n    this.onChange = this.onChange.bind(this);\n    this.logout = this.logout.bind(this);\n    this.setStore = this.setStore.bind(this)\n  }\n  componentDidMount() {\n    const data = sessionStorage.getItem('userData')\n    const dataJson = JSON.parse(data)\n    const id = dataJson.user.orgId\n    const token = dataJson.token\n    console.log(dataJson.token, 'oopuytreww12345678');\n\n    CreatData(id, token)\n      .then((result) => {\n        let opn = ''\n        const name = localStorage.getItem('idOpn')\n        result.map((d) => d.name === name ? opn = d : {})\n        this.setState({\n          items: result\n        })\n      });\n  }\n  onCollapse = (collapsed) => {\n    this.setState({ collapsed });\n  }\n\n  onChange(e) {\n    this.setState({ userFeed: e.target.value });\n  }\n\n  logout() {\n    sessionStorage.setItem(\"userData\", '');\n    sessionStorage.clear();\n    this.setState({ redirectToReferrer: true });\n  }\n\n  setStore = (user) => {\n    localStorage.setItem('userUnit', JSON.stringify(user))\n  }\n\n  render() {\n    if (this.state.redirectToReferrer) {\n      return (<Redirect to={'/login'} />)\n    }\n    const columns = [\n      { title: 'ชื่อ', dataIndex: 'name', key: 'name' },\n      { title: 'ระดับผู้ใช้งาน', dataIndex: 'roles', key: 'roles' },\n      {\n        title: 'Action', dataIndex: 'id', key: 'id', render: (id, user) => <a href={`/user?id=${id}`} onClick={() => this.setStore(user)}>view</a>\n      },\n    ];\n    const data = this.state.items\n    const da = sessionStorage.getItem('userData')\n    const dataJson = JSON.parse(da)\n    const name = dataJson.user.name\n    // const id = dataJson.user.orgId\n    // const token = dataJson.token\n    return (\n      <Layout style={{ fontFamily: 'Kanit' }}>\n        <Header style={{ backgroundColor: '#46bd93', height: 100 }}>\n          <img style={{ height: 80, width: 100 }} src=\"LOGO_White.png\"></img>\n          {/* <Dropdown overlay={\n      <Menu>\n          <Menu.Item key=\"display\">\n            Toogle display\n          </Menu.Item>\n          <Menu.Item key=\"mode\" onClick={this.logout}>\n          ออกจากระบบ\n          </Menu.Item>\n      </Menu>}>\n      <Button style={{left:1100}}>{name}</Button>\n    </Dropdown> */}\n          <a href=\"/login\" onClick={this.logout} className=\"logout\">ออกจากระบบ</a>\n        </Header>\n        <Layout style={{ marginTop: 3 }}>\n          <Sider style={{ background: '#fff' }}>\n            <div className=\"logo\" />\n            <Menu mode=\"inline\" >\n              <Menu.Item key=\"1\">\n                <Icon type=\"user\" />\n                <span>ผู้ใช้งาน</span>\n                <Link to=\"/home\">ผู้ใช้งาน</Link>\n              </Menu.Item>\n              <Menu.Item key=\"2\">\n                <Icon type=\"desktop\" />\n                <span>แผนที่</span>\n                <Link to=\"/map\">แผนที่</Link>\n              </Menu.Item>\n              <Menu.Item key=\"3\">\n                <Icon type=\"bar-chart\" />\n                <span>สถิติการใช้งาน</span>\n                <Link to=\"/static\">สถิติการใช้งาน</Link>\n              </Menu.Item>\n              <Menu.Item key=\"4\">\n                <Icon type=\"bar-chart\" />\n                <span>รายงาน</span>\n                <Link to=\"/export\">รายงาน</Link>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Content style={{ margin: '0 16px' }}>\n            <Breadcrumb style={{ margin: '16px 0' }}>\n            </Breadcrumb>\n            <div style={{ padding: 24, background: '#fff', minHeight: 800 }} >\n              <div>\n                {name}\n                <Button href=\"/creat\" type=\"primary\" style={{ marginBottom: 16, marginLeft: 850 }}>\n                  + เพิ่มสมาชิก\n                </Button>\n              </div>\n              <Table columns={columns} dataSource={data} />\n            </div>\n          </Content>\n        </Layout>\n        <Footer style={{ backgroundColor: '#46bd93' }}>\n          <center>\n            <img style={{ height: 40, width: 100 }} src=\"nstda.png\"></img>\n            <p style={{ fontSize: 16, color: '#fff', marginTop: 10 }}>สงวนลิขสิทธิ์ ตาม พ.ร.บ.ลิขสิทธิ์ พ.ศ. 2537 โดย ศูนย์เทคโนโลยีอิเล็กทรอนิกส์และคอมพิวเตอร์แห่งชาติ</p>\n          </center>\n        </Footer>\n      </Layout>\n    );\n  }\n}\nexport default Home;\n\n\n"]},"metadata":{},"sourceType":"module"}